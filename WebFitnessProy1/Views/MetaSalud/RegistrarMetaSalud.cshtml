
@{
    ViewBag.Title = "Registrar Meta de Salud";
}

<!DOCTYPE html>
<html>
<head>
    <title>@ViewBag.Title</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet">

</head>
<body>
    <div class="container mt-4">
        <h2 class="text-center mb-4">Registrar Meta de Salud</h2>


        <form action="@Url.Action("RegistrarMetaSalud", "MetaSalud")" method="post">

            <div class="form-group">
                <label for="Email">Usuario actual:</label>
                <input type="text" class="form-control" id="Email" name="Email" value="@Model.Email" readonly>
            </div>
            <div class="form-group">
                <label for="FechaObjetivo">Fecha Objetivo:</label>
                <input type="date" class="form-control" id="FechaObjetivo" name="FechaObjetivo" required>
            </div>


            <div class="form-group">
                <label for="TipoMeta">Tipo de Meta:</label>

                <!-- Menú desplegable -->
                <select class="form-select" aria-label="Default select example" id="TipoMeta" name="TipoMeta" required">
                    <option selected>Seleccione una opción</option>
                    <option value="Pérdida de peso">Pédida de peso</option>
                    <option value="Ganancia de músculo">Ganancia de músculo</option>
                    <option value="Mantenimiento">Mantenimiento</option>
         
                </select>
            </div>

            <div class="form-group">
                <label for="NivelActividadDes">Nivel de Actividad Deseado:</label>
                <textarea class="form-control" id="NivelActividadDes" name="NivelActividadDes" required></textarea>
            </div>
            <div class="form-group">
                <label for="PesoObjetivo">Peso Objetivo (kg):</label>
                <input type="number" class="form-control" id="PesoObjetivo" name="PesoObjetivo" required>
            </div>
            <div class="form-group">
                <label for="ObjEspecificos">Objetivos Especificos:</label>
                <textarea class="form-control" id="ObjEspecificos" name="ObjEspecificos"></textarea>
            </div>

            <div class="form-group">
                <button type="submit" class="btn btn-primary">Guardar</button>
                <a class="small-text" href="@Url.Action("MostrarDieta", "Dieta")" style="margin-left: 1cm;">Ver Historial de Dieta</a>
            </div>

        </form>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script>
        $(document).ready(function () {
            // Verifica si la URL contiene un parámetro de querystring "exito" con valor "true"
            var urlParams = new URLSearchParams(window.location.search);
            var exito = urlParams.get('exito');

            // Si se ha creado la dieta exitosamente, muestra una alerta
            if (exito === 'true') {
                alert('¡La dieta se ha registrado correctamente!');
            }
        });
    </script>
</body>
</html>
